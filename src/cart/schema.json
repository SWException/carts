{
    "$id": "src/cart/schema.json",
    "insertCartProduct":{
        "allOf" : [
            { "$ref":"../products/schema.json#/product" },
            {
                "properties": {
                    "quantity" : { "type": "integer", "minimum": 1 }
                },
                "required": ["id", "quantity"]
            }
        ]
    },
    "cartProduct":{
        "allOf" : [
            { "$ref":"../products/schema.json#/product" },
            {
                "properties": {
                    "quantity" : { "type": "integer", "minimum": 1 }
                },
                "required": ["id", "name", "price", "quantity"]
            }
        ]
    },
    "cartProducts": { 
        "type": "array",
        "items": { "$ref": "#/cartProduct" },
        "uniqueItems": true
    },
    "cart":{
        "type": "object",
        "properties":{
            "id":{ "type": "string", "minLength": 1 },
            "products": { "$ref":"#/cartProducts" },
            "total": { "type": "number", "format": "float", "minimum": 0},
            "tax": { "type": "number", "format": "float", "minimum": 0 }
        },
        "required": ["id", "total", "tax"]
    },
    "responseCart":{
        "allOf" : [
            { "$ref": "../utils/schema.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/cart" }
                }
            }
        ]
    }
}