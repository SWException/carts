{
    "$id": "schemas/carts.json",
    "insertCartProduct":{
        "type": "object",
        "properties": {
            "productId": { "type": "string", "minLength": 1 },
            "quantity" : { "type": "integer", "minimum": 1 }
        },
        "required": ["productId", "quantity"]
    },
    "cartProduct":{
        "type": "object",
        "properties": {
            "productId": { "type": "string", "minLength": 1 },
            "name": { "type": "string", "minLength": 1, "maxLength": 50 },
            "primaryPhoto": { "type": "string", "format": "uri" },
            "price": { "type": "number", "format": "float", "minimum": 0 },
            "tax": { "type": "number", "format": "float", "minimum": 0 },
            "quantity" : { "type": "integer", "minimum": 1 },
            "total": { "type": "integer"}
        },
        "required": ["productId", "name", "primaryPhoto", "price", "tax", "quantity", "total"]
    },
    "cartProducts": { 
        "type": "array",
        "items": { "$ref": "#/cartProduct" },
        "uniqueItems": true
    },
    "cart":{
        "type": "object",
        "properties":{
            "id":{ "type": "string", "minLength": 1 },
            "products": { "$ref":"#/cartProducts" },
            "total": { "type": "number", "format": "float", "minimum": 0},
            "tax": { "type": "number", "format": "float", "minimum": 0 },
            "itemCount": { "type": "integer", "mininmum": 0}
        },
        "required": ["id", "products", "total", "tax", "itemCount"]
    },
    "responseCart":{
        "allOf" : [
            { "$ref": "../schemas/response.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/cart" }
                }
            }
        ]
    }
}